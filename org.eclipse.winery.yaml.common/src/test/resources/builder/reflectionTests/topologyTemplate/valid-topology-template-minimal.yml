tosca_definitions_version: tosca_simple_yaml_1_1

metadata:
  description: This test contains a valid topology template.
  targetNamespace: http://www.example.org/ns/simple/yaml/1.1/test
  tosca.version: 1.1
  reference: 3.8.1
  exception: None
  keyname: topology_template
  assert: |
    topology_template.description = Topology template description
    topology_template.inputs.ipt1.type = integer
    topology_template.inputs.ipt1.description = Topology template input description
    topology_template.inputs.ipt1.value = 42
    topology_template.inputs.ipt1.required = false
    topology_template.inputs.ipt1.default = 99
    topology_template.inputs.ipt1.constraints.0.greater_or_equal = 42
    topology_template.node_templates.ndt1.type = ntp1
    topology_template.node_templates.ndt1.description = Node template description
    topology_template.node_templates.ndt1.metadata.md1 = Metadata value
    topology_template.node_templates.ndt1.directives = [drt1]
    topology_template.node_templates.ndt1.properties.ndt1.prp1 = Property value
    topology_template.node_templates.ndt1.attributes.ndt1.attr1 = Attribute value
    topology_template.node_templates.ndt1.requirements.0.rqr1.node = ndt1
    topology_template.node_templates.ndt1.capabilities.cbt1.properties.prt1 = Property assignment value
    topology_template.relationship_templates.rltp1.type = rlt1
    topology_template.relationship_templates.rltp1.description = Relationship template description
    topology_template.relationship_templates.rltp1.metadata.md1 = Metadata value
    topology_template.relationship_templates.rltp1.properties.rlt1.prt1 = String value
    topology_template.relationship_templates.rltp1.attributes.rlt1.attr = String value
    topology_template.groups.gtd1.type = gt1
    topology_template.groups.gtd1.description = Topology template group description
    topology_template.groups.gtd1.metadata.md1 = Metadata value
    topology_template.groups.gtd1.properties.gt1.prt1 = Property value
    topology_template.policies.plc1.type = plt1
    topology_template.policies.plc1.description = Policy definition
    topology_template.policies.plc1.metadata.md1 = Metadata value
    topology_template.policies.plc1.properties.plc1.prt1 = Property value
    topology_template.outputs.opt1.type = integer
    topology_template.outputs.opt1.description = Topology template output description
  
topology_template:
  description: Topology template description
  inputs: 
    ipt1: 
      type: integer
      description: Topology template input description
      value: 42
      required: false
      default: 99
      constraints:
        - greater_or_equal: 42
      entry_schema:
        description: entry_schema description
        type: integer
        constraints:
          - greater_or_equal: 42
  node_templates:
    ndt1:
      type: ntp1
      description: Node template description
      metadata: 
        md1: Metadata value
      directives: [drt1]
      properties:
        ndt1.prp1: Property value
      attributes:
        ndt1.attr1: Attribute value
      requirements:
        - rqr1:
            node: ndt1
      capabilities: 
        cbt1:
          properties: 
            prt1: Property assignment value
  relationship_templates:
    rltp1:
      type: rlt1
      description: Relationship template description
      metadata:
        md1: Metadata value
      properties:
        rlt1.prt1: String value
      attributes:
        rlt1.attr: String value
  groups:
    gtd1:
      type: gt1
      description: Topology template group description
      metadata:
        md1: Metadata value
      properties:
        gt1.prt1: Property value
  policies:
    plc1:
      type: plt1
      description: Policy definition
      metadata:
        md1: Metadata value
      properties:
        plc1.prt1: Property value
  outputs:
    opt1: 
      type: integer
      description: Topology template output description
  
  
